{% extends 'student/student_menu.html' %}
{% block title %}My Tickets{% endblock %}
{% block content %}
    <div class="card">
        <button class="btn btn-primary"
                      type="button"
                      data-toggle="collapse"
                      data-target="#pending-tickets"
                      aria-expanded="true"
                      aria-controls="collapseExample">
                 Pending Tickets
        </button>
        <div class="card-body collapse" id="pending-tickets">
            {% for ticket in pending %}
                <div class="card">
                    <div class="card-body">
                        Ticket id: {{ ticket._id }}<br>
                        Course: {{ ticket.course.name }}<br>
                        Sent: {{ ticket.sent.strftime('%d-%m-%Y') }}<br>
                        Ticket topic: {{ ticket.topic }}<br>
                        <br>Ticket body:
                        <p class="card-text">{{ ticket.body }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="card">
        <button class="btn btn-primary"
                      type="button"
                      data-toggle="collapse"
                      data-target="#answered-tickets"
                      aria-expanded="true"
                      aria-controls="collapseExample">
                 Answered Tickets
        </button>
        <div class="card-body collapse" id="answered-tickets">
            {% for ticket in answered %}
                <div class="card">
                    <div class="card-body">
                        Ticket id: {{ ticket._id }}<br>
                        Sent: {{ ticket.sent.strftime('%d-%m-%Y') }}<br>
                        Answered: {{ ticket.checked.strftime('%d-%m-%Y') }}<br>
                        Ticket topic: {{ ticket.topic }}<br>
                        <br>Ticket body:
                        <p class="card-text">{{ ticket.body }}</p>
                        Ticket answer:
                        <p class="card-text">{{ ticket.answ_body }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="card">
        <button class="btn btn-primary"
                      type="button"
                      data-toggle="collapse"
                      data-target="#public-tickets"
                      aria-expanded="true"
                      aria-controls="collapseExample">
                 Public Tickets
        </button>
        <div class="card-body collapse" id="public-tickets">
            {% for ticket in public %}
                <div class="card">
                    <div class="card-body">
                        Topic: {{ ticket.topic }}<br>
                        <br>Body:
                        <p class="card-text">{{ ticket.body }}</p>
                        Answer:
                        <p class="card-text">{{ ticket.answ_body }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}